<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="DEEP OCEAN">
    <meta name="description" content="ì˜¤ëŠ˜ì˜ íŒ¨ì…˜">
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='images/water-solid.svg') }}">

    <title>DEEP OCEAN</title>

    <!-- CSS -->
    <link href="{{ url_for('static', filename='css/sub1.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/destyle.css@1.0.5/destyle.css">
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-barun-pen.css" rel="stylesheet">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" 
    <link integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
        crossorigin="anonymous"></script>

    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-145482737-6');
    </script>

    <style>
    * { 
    margin: 0;
    padding: 0;
    font-family: 'NanumBarunPen';
    /* font-family: 'NanumBarunPenBold'; */
    }  
    </style>

</head>

<body>
    <div class="col-12 col-xl-3 col-lg-4 col-md-6 col-sm-12 w-50 vh-100"
        style="position: relative; background-image: url({{ url_for('static', filename='images/water-solid.svg') }}); background-repeat: no-repeat; background-size: 100% 100%; text-align: center; left: 25%;">
        <div class="logo-space" href="{{ url_for('static', filename='templates/main.html') }}"
            style="background-color: rgba(251, 251, 251, 0.3); background-size: 50% 100%;">
            <h1 id="logo">DEEP OCEAN</h1>
        </div>
        <div class="main-box w-75 h-75">
            <div class="main-box container w-75 h-75" style="background-size: 100% 100%;">
                <div class="select-gender">
                <form id="upload" action="/predictgirl" method="POST" enctype="multipart/form-data">            
                    <div class="file-upload">
                        <div class="image-upload-wrap">
                            <div class="top1">
                            <h2 class="title">ğŸ¥¼ğŸ‘–Today's FashionğŸ‘ŸğŸ‘Ÿ</h2>
                            <section class="genderselecter">
                                <div>
                                    <input type="checkbox" id="gender" onclick="genderselect()">
                                    <label for="gender">
                                    <span class="knob">
                                    <i></i>
                                    </span>
                                    </label>
                                </div>
                            </section>
                            </div>
                            <div class="top2">
                            <input id="img" name="image" class="file-upload-input" type='file' onchange="readURL(this);"
                                accept="image/*" />
                            <div class="drag-text">
                                <div class="img-click">
                                <img src="{{ url_for('static', filename='images/overalls-unscreen.gif') }}" class="upload-photo" alt="upload-image">
                                <h3 class="upload-text">Click Here!</h3>
                                </div>
                            </div>
                            </div>
                        </div>
                        <div class="file-upload-content">
                            <!-- <img class="file-upload-image" id="face-image" src="#" alt="your image" /> -->
                            <div id="loading" style="padding: 2px;">
                                <div id="load">
                                    <img src="{{ url_for('static', filename='images/loading.gif') }}" alt="loading" style="width: 10em; height: 10em;">
                                </div>
                                <p class="text-center" style="font-size: 1.3em;">AIê°€ ë‹¹ì‹ ì˜ ìŠ¤íƒ€ì¼ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤</p>
                            </div>
                            <!-- <p class="result-message" style="font-size: 1.5em; margin: auto; padding: 5px;"></p>
                                    <div id="label-container" class="d-flex flex-column justify-content-around"></div>
                                    <div id="addThis" class="addthis_inline_share_toolbox_6lz1"></div>
                                    <div class="image-title-wrap">
                                        <button type="button" class="try-again-btn" onclick="gaReload()" data-bs-toggle="button"
                                            aria-pressed="true">
                                            <span class="try-again-text">Retry</span>
                                        </button> -->
                </form>
                </div>
                    <!-- </div>
                    <div class="user-image col-6">
                        <input id="user-img" name="image" class="file-upload-input" type='file' onchange="readURL(this);"
                            accept="image/*" />
                    </div>
                    <div class="user-style col-6">
                        <h4 class="today-text">ì˜¤ëŠ˜ì˜ ìŠ¤íƒ€ì¼ :<br>[{{label}}]</h4>
                        <button type="button" class="btn btn-secondary"
                            style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: 1em;">
                            <a onclick="window.location.href='/stylecls'">Retry</a>
                        </button>
                    </div>
                </div>
                <div class="">
                    <div class="row">
                        {% for i in range(3) %}
                        <img class="col-4" src="{{imagerows[i]['url']}}" alt="Card image">
                        {% endfor %}
                    </div>
                </div>
        <div class="sub-box w-75 h-75" background>
            <h1 class="title">ğŸ¥¼ğŸ‘–Today's FashionğŸ‘ŸğŸ‘Ÿ</h1>
        <form id="upload" action="/predictgirl" method="POST" enctype="multipart/form-data">
            <section class="genderselecter">
                <div>
                    <input type="checkbox" id="gender" onclick="genderselect()">
                    <label for="gender">
                        <span class="knob">
                            <i></i>
                        </span>
                    </label>
                </div>
            </section>

            <div class="file-upload">
                <div class="image-upload-wrap">
                    <input id="img" name="image" class="file-upload-input" type='file' onchange="readURL(this);"
                        accept="image/*" />
                    <div class="drag-text">
                        <img src="../static/images/overalls-unscreen.gif" class="upload-photo" alt="upload-image">
                        <h3 class="upload-text">Click Here!</h3>

                    </div>
                </div>
                <div class="file-upload-content">
                                   <img class="file-upload-image" id="face-image" src="#" alt="your image" /> -->
                    <!-- <div id="loading" style="padding: 2px;">
                        <div id="load">
                            <img src="../static/images/physics-unscreen.gif" alt="loading" style="width: 10em; height: 10em;">
                        </div>
                        <p class="text-center" style="font-size: 1.5em;">ì—´ì¼ì¤‘</p>
                    </div>  -->
                    <!-- <p class="result-message" style="font-size: 1.5em; margin: auto; padding: 5px;"></p>
                    <div id="label-container" class="d-flex flex-column justify-content-around"></div>
                    <div id="addThis" class="addthis_inline_share_toolbox_6lz1"></div>
                    <div class="image-title-wrap">
                        <button type="button" class="try-again-btn" onclick="gaReload()" data-bs-toggle="button"
                            aria-pressed="true">
                            <span class="try-again-text">Retry</span>
                        </button> -->
        <!-- </form> -->
        </div>
        </div>
        <script>
            
            function gaReload() {
                gtag('event', 'ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ ì¬ì‹œë„', {
                    'event_category': 'ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ ì¬ì‹œë„'
                });
                window.location.reload();
            }
            function gaReload1() {
                gtag('event', 'ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ ì¬ì‹œë„ 1ì°¨', {
                    'event_category': 'ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ ì¬ì‹œë„'
                });
            }
            function gaReload2() {
                gtag('event', 'ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ ì¬ì‹œë„ 2ì°¨', {
                    'event_category': 'ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ ì¬ì‹œë„'
                });
                window.location.reload();
            }
        </script>
        </div>
        <script>
            /**
             *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
             *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function () { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://tjdahr22.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>

        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script>
            function genderselect() {
                let checkbox = document.getElementById("gender")

                if (checkbox.checked) {
        //   form action ë‚¨ìë¡œ ë°”ê¾¸ëŠ” í•¨ìˆ˜
                        $("#upload").attr("action", "/predictboy");
                }
                else {
    // < !--      // form action ë‹¤ì‹œ ì—¬ìë¡œ ë°”ê¾¸ëŠ” í•¨ìˆ˜-->
                        $("#upload").attr("action", "/predictgirl");
                }
            }
            function subsub() {
                setTimeout(function () {
                    document.getElementById('upload').submit();
                    return false;
                }, 2000);
            }

            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();


                    reader.onload = function (e) {
                        $('.image-upload-wrap').hide();
                        $('#loading').show();
                        $('.file-upload-image').hide;
// < !--$('.file-upload-image').attr('src', e.target.result); -->
                            $('.file-upload-content').show();
                        $('.image-title').html(input.files[0].name);
                    };
                    reader.readAsDataURL(input.files[0]);
                    subsub()
                } else {
                    removeUpload();
                }
            }

            function removeUpload() {
                $('.file-upload-input').replaceWith($('.file-upload-input').clone());
                $('.file-upload-content').hide();
                $('.image-upload-wrap').show();
            }
            $('.image-upload-wrap').bind('dragover', function () {
                $('.image-upload-wrap').addClass('image-dropping');
            });
            $('.image-upload-wrap').bind('dragleave', function () {
                $('.image-upload-wrap').removeClass('image-dropping');
            });
        </script>
    </div>
    </div>
</body>
</html>